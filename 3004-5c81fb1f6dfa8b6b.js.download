"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{57713:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(47568),s=t(10253),i=t(97582),o=t(85893),l=t(67294),r=t(3732),d=t(26713),c=t(52077),u=t(12002),p=t(19810),m=t(61437),g=t(11163),h=t(40053),x=t(63944),b=t(1172);function v(e){var n=e.track,t=e.website,c=e.dirty,v=e.pages,j=e.selectedPage,y=e.selectedPost,N=e.loading,k=e.blogMode,C=e.postMode,Z=e.generating,S=(e.openAssistant,e.setOpenAssistant,e.openSupport),P=e.isOpenSupport,M=e.handleOpenManage,I=e.handleOpenManagePage,A=e.onView,T=e.openChangeTemplate,E=e.setOpenChangeTemplate,K=e.setOpenRegenerate,O=e.setOpenRegenerateText,F=e.onSelectPage,D=e.onExit,R=(e.openKeywords,e.setOpenKeywords),B=(0,s.Z)((0,m.Z)("ai:open-grace-optin",!1),2),_=(B[0],B[1]),V=(0,l.useState)(!0),H=V[0],W=V[1],z=(0,l.useState)(null),L=z[0],Q=z[1],q=(0,l.useState)(!1),G=q[0],U=q[1],J=((0,g.useRouter)(),(0,h.Z)().get),X=function(){var e=(0,a.Z)((function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,J("/automation/is-skill-enabled",{identifier:"auto-post"})];case 1:return(e=t.sent())&&!0===e.status&&W(!!(null===(n=e.content)||void 0===n?void 0:n.active)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){X(),(0,x.Q5)(J).then((function(e){Q(e)}))}),[]),!T&&(0,o.jsxs)(o.Fragment,{children:[L&&(0,o.jsx)(b.Z,{showModal:G,showModalHandler:function(){return U(!G)},scheduleData:L,setScheduleData:Q,onComplete:function(){X(),(0,x.Q5)(J).then((function(e){Q(e)}))}}),C&&(0,o.jsx)(w,{selectedPost:y,loading:Z}),(0,o.jsx)("nav",{className:"sticky left-0 bottom-0 z-50 md:hidden w-full bg-white border-t",children:(0,o.jsxs)("div",{className:"grid grid-cols-auto justify-between max-w-120 mx-auto",children:[(0,o.jsx)(f,{blogMode:k,postMode:C,disabled:N||c,onExit:D}),k||C?(0,o.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:N||Z,onClick:function(){C?window.settingsPost():window.editBlock("blog")},children:[(0,o.jsx)(d.Z,{icon:"Cog8ToothIcon",className:"w-5 h-5"}),(0,o.jsx)("span",{className:"text-body-xs",children:"Settings"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{track:n,dataTour:"theme-mobile",buttonClassName:"flex-col gap-1 !rounded-none",disabled:N||Z,onSelect:function(e,t,a){switch(t){case"tab":M(e,"style",a);break;case"widget":M(e,"widget");break;case"template":n("website:change-template"),E(!T);break;case"blocks":M(e,"blocks");break;case"regenerate":n("website:regenerate"),setTimeout((function(){return K(!0)}),100);break;case"regenerate-text":n("website:regenerate-text"),O(!0);break;case"keywords":n("website:keywords"),R(!0)}},disableTemplates:!!(null===j||void 0===j?void 0:j.slug)||c}),(0,o.jsx)(p.Z,{buttonClassName:"flex-col gap-1 w-full !rounded-none",pages:v,selectedPage:j,disabled:c||N||Z,onAdd:I,onSelect:F,dataTour:"pages-mobile"})]}),k&&(0,o.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:N||Z,onClick:function(){H?U(!0):_(!0)},children:[(0,o.jsx)(d.Z,{icon:"StarsIcon",className:(0,r.AK)("w-5 h-5",H&&"text-indigo-600"),"aria-hidden":"true"}),(0,o.jsx)("span",{className:"text-body-xs",children:"Automate"})]}),(0,o.jsxs)("button",{className:(0,r.AK)("light transparent flex-col gap-1 !rounded-none",P&&"!bg-gray-100"),disabled:N||Z,onClick:function(){S(),n("website:help")},children:[(0,o.jsx)(d.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,o.jsx)("span",{className:"text-body-xs",children:"Help"})]}),"public"!==(null===t||void 0===t?void 0:t.status)&&(0,o.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:N||Z,onClick:A,children:[(0,o.jsx)(d.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,o.jsx)("span",{className:"text-body-xs",children:"public"===(null===t||void 0===t?void 0:t.status)?"View":"Preview"})]})]})})]})}var f=function(e){var n=e.disabled,t=e.blogMode,a=e.postMode,s=e.onExit;return(0,o.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:n,onClick:function(){a?window.dispatchEvent(new CustomEvent("website-builder-post-exit")):s()},children:[(0,o.jsx)(d.Z,{icon:t||a?"ChevronLeftIcon":"HomeRoofSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,o.jsx)("span",{className:"text-body-xs",children:a?"Blog":t?"Website":"Home"})]})},w=function(e){var n=e.selectedPost,t=e.loading;return(null===n||void 0===n?void 0:n._id)||"assistant"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.fromScratch)?null:(0,o.jsx)("div",{className:"sticky inset-x-0 md:hidden bottom-0 border-t",children:(0,o.jsx)(c.Z,{className:"flex-shrink-0 light xl gap-2 w-full !border-0 !rounded-none",loading:t,force:t,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))},children:"Regenerate post"})})}},12002:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(85893),s=(t(67294),t(72510)),i=t(76078),o=t(3732),l=t(26713),r=t(19645);function d(e){var n=e.disabled,t=e.className,d=e.buttonClassName,c=e.dataTour,u=e.onSelect,p=e.disableTemplates,m=(0,r.Z)().track;return(0,a.jsx)(i.Z,{mobileTitle:"Customize",dataTour:c,inline:!0,className:(0,o.AK)("text-center",t),buttonClassName:(0,o.AK)("button light transparent whitespace-nowrap",d),openClassName:"!bg-gray-100",itemsContainerClass:"p-1",placementAlign:"start",button:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:p-1 md:rounded-md md:bg-gray-100",children:(0,a.jsx)(l.Z,{icon:"PaintBrushSolidIcon",className:"w-5 md:w-4 h-5 md:h-4","aria-hidden":"true"})}),(0,a.jsx)("span",{className:"block md:hidden lg:block text-body-xs md:text-label pr-1",children:"Customize"})]}),disabled:n,closeOnSelect:!0,showCloseButton:!1,onOpen:function(e){e&&m("website:customize")},children:[{icon:"ArrowPathIcon",label:"Change template",action:"template"},{tab:1,icon:"ColorPaletteIcon",label:"Colors",action:"tab"},{tab:4,icon:"FontsIcon",label:"Fonts",action:"tab"},{tab:3,icon:"ButtonIcon",label:"Buttons",action:"tab"},{tab:6,icon:"StyleIcon",label:"Other styles",action:"tab"},{icon:"SquaresIcon",label:"Widgets",action:"widget"},{icon:"StarsIcon",label:"Regenerate",action:"regenerate"},{icon:"TextIcon",label:"Rewrite text",action:"regenerate-text"},{icon:"DocumentMagnifyingGlassIcon",label:"Keywords",action:"keywords"}].map((function(e,n){return(0,a.jsx)(s.v.Item,{as:"div",className:(0,o.AK)("items-center gap-2 px-4 py-3 rounded-sm hover:bg-gray-100 text-gray-700 cursor-pointer",e.hideMobile?"hidden lg:flex":"flex",p&&"template"===e.action&&"hidden"),disabled:p&&"template"===e.action,onClick:function(n){return function(e,n){u(e,n.action,n.tab);var t=n.label.toLowerCase().replaceAll(" ","-");["colors","fonts","buttons","other-styles","widgets"].includes(t)&&m("website:".concat(t))}(n,e)},children:(0,a.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,a.jsx)(l.Z,{icon:e.icon,variant:e.variant,className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]})},"customize-option-".concat(n))}))})}},19810:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(85893),s=t(76078),i=t(3732),o=t(26713),l=t(72510),r=t(67294),d=t(19645);function c(e){var n=e.pages,t=e.selectedPage,c=e.className,u=e.buttonClassName,p=e.disabled,m=e.onAdd,g=e.onSelect,h=e.dataTour,x=(0,r.useState)([]),b=x[0],v=x[1],f=(0,d.Z)().track,w=b.sort((function(e,n){return e.order-n.order})).slice(0,5),j=function(e,n){m(e,n),e&&f("website:manage-pages"),n&&f("website:create-page")};return(0,r.useEffect)((function(){if(n){var e=n.map((function(e){return"parent"===e.type&&e.id&&(e.nests=n.filter((function(n){return n.Parent===e.id})).sort((function(e,n){return e.order-n.order}))),e})).filter((function(e){return"nested"!==e.type}));v(e)}}),[n]),(0,a.jsxs)(s.Z,{mobileTitle:"Pages",inline:!0,className:(0,i.AK)("text-center",c),buttonClassName:(0,i.AK)("button light transparent whitespace-nowrap",u),openClassName:"!bg-gray-100",itemsContainerClass:"p-1",button:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:p-1 md:rounded-md md:bg-gray-100",children:(0,a.jsx)(o.Z,{icon:"WindowSolidIcon",className:"w-5 md:w-4 h-5 md:h-4","aria-hidden":"true"})}),(0,a.jsx)("span",{className:"block md:hidden lg:block text-body-xs md:text-label",children:"Pages"})]}),disabled:p,dataTour:h,closeOnSelect:!0,placementAlign:"start",showCloseButton:!1,onOpen:function(e){e&&f("website:pages")},children:[(0,a.jsx)("div",{className:"space-y-0.5 md:max-h-[calc(100vh-164px)] overflow-y-auto no-scrollbar",children:w.map((function(e,n){return(0,a.jsxs)(l.v.Item,{as:"div",className:(0,i.AK)("parent"===e.type?"":"px-3 py-2 rounded-sm hover:bg-gray-100 cursor-pointer",e.id===(null===t||void 0===t?void 0:t.id)?"bg-indigo-50 text-indigo-600":"text-gray-700"),onClick:function(){return"parent"!==e.type&&g(e.id)},children:[(0,a.jsxs)("div",{className:(0,i.AK)("flex items-center gap-3","parent"===e.type&&"px-3 py-2"),children:[(0,a.jsx)(o.Z,{icon:null===e.slug?"HomeRoofSolidIcon":"WindowIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,a.jsx)("div",{className:"flex-1 text-sm font-medium md:max-w-30 truncate",children:e.name}),e.id===(null===t||void 0===t?void 0:t.id)&&(0,a.jsx)(o.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"})]}),e.nests&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"absolute inset-y-2 left-[21.5px] w-px bg-gray-200 pointer-events-none"}),e.nests.map((function(e,n){return(0,a.jsxs)(l.v.Item,{as:"div",className:(0,i.AK)("group flex items-center gap-3 px-3 py-2 rounded-sm hover:bg-gray-100 cursor-pointer",e.id===(null===t||void 0===t?void 0:t.id)?"bg-indigo-50 text-indigo-600":"text-gray-700"),onClick:function(){return g(e.id)},children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,a.jsx)("div",{className:(0,i.AK)("relative z-10 w-0.5 h-5 rounded-xs",e.id===(null===t||void 0===t?void 0:t.id)?"bg-indigo-600":"bg-gray-700 opacity-0 transition-opacity group-hover:opacity-100")})}),(0,a.jsx)("div",{className:"flex-1 text-sm font-medium md:max-w-30 truncate",children:e.name}),e.id===(null===t||void 0===t?void 0:t.id)&&(0,a.jsx)(o.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"})]},"page-nest-".concat(n))}))]})})]},"page-".concat(n))}))}),(0,a.jsx)("hr",{className:"my-1"}),(0,a.jsxs)(l.v.Item,{as:"div",className:"flex items-center gap-3 px-3 py-2 mb-0.5 rounded-sm hover:bg-gray-100 text-gray-700 cursor-pointer",onClick:function(){return j(!0,!1)},children:[(0,a.jsx)(o.Z,{icon:"FolderOpenIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:b.length>4?"View all pages":"Manage pages"})]}),(0,a.jsxs)(l.v.Item,{as:"div",className:"flex items-center gap-3 px-3 py-2 rounded-sm hover:bg-gray-100 text-indigo-600 cursor-pointer",onClick:function(){return j(!1,!0)},children:[(0,a.jsx)(o.Z,{icon:"DocumentPlusSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Create page"})]})]})}},51247:function(e,n,t){t.d(n,{Z:function(){return C}});var a=t(47568),s=t(26042),i=t(69396),o=t(10253),l=t(97582),r=t(85893),d=t(67294),c=t(3732),u=t(26713),p=t(52077),m=t(12002),g=t(19810),h=t(66605);function x(e){var n=e.device,t=void 0===n?"desktop":n,a=e.onChange,s=(0,d.useState)(t),i=s[0],o=s[1],l=[{device:"desktop",icon:"ComputerDesktopIcon",label:"Desktop",canView:(0,c.ac)("(min-width: 1024px)")},{device:"tablet",icon:"DeviceTabletIcon",label:"Tablet",canView:(0,c.ac)("(min-width: 860px)")},{device:"mobile",icon:"DevicePhoneMobileIcon",label:"Phone",canView:!0}].filter((function(e){return e.canView}));return(0,d.useEffect)((function(){o(t)}),[t]),(0,r.jsx)("div",{className:"flex items-center gap-2",children:l.map((function(e,n){return(0,r.jsx)(h.Z,{title:e.label,children:(0,r.jsx)("button",{className:"light icon transparent",onClick:function(){return function(e){a(e),window.dispatchEvent(new CustomEvent("website-builder-simulate-device",{detail:{device:e}}))}(e.device)},children:(0,r.jsx)(u.Z,{icon:e.icon,className:(0,c.AK)("w-5 h-5",i!==e.device&&"text-gray-400"),from:"heroicons","aria-hidden":"true"})})},"view-port-device-".concat(n))}))})}var b=t(11355),v=t(80283),f=t(68399),w=t(61437),j=t(40053),y=t(11163),N=t(1172),k=t(63944);function C(e){var n,t=e.track,s=e.website,i=e.loading,p=e.disabled,h=e.generating,x=e.generatingPost,C=e.dirty,D=e.blogMode,R=e.postMode,B=e.pages,_=e.selectedPage,V=e.selectedBlock,H=e.selectedPost,W=e.openManage,z=e.handleOpenManage,L=e.handleOpenPostAssistant,Q=e.handleViewWebsite,q=(e.openAssistant,e.setOpenAssistant,e.openSupport),G=e.handleOpenManagePage,U=e.openManagePages,J=e.openManagePost,X=e.onExit,Y=e.onDiscard,$=e.onSave,ee=e.setOpenChangeTemplate,ne=e.openChangeTemplate,te=e.setOpenRegenerate,ae=e.setOpenRegenerateText,se=e.onSelectPage,ie=e.previewMode,oe=e.setPreviewMode,le=(e.openKeywords,e.setOpenKeywords),re=(0,o.Z)((0,w.Z)("ai:open-grace-optin",!1),2),de=(re[0],re[1]),ce=(0,d.useState)(!0),ue=ce[0],pe=ce[1],me=(0,d.useState)(null),ge=me[0],he=me[1],xe=(0,d.useState)(!1),be=xe[0],ve=xe[1],fe=((0,y.useRouter)(),(0,j.Z)().get),we=function(){var e=(0,a.Z)((function(){var e,n;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,fe("/automation/is-skill-enabled",{identifier:"auto-post"})];case 1:return(e=t.sent())&&!0===e.status&&pe(!!(null===(n=e.content)||void 0===n?void 0:n.active)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){we(),(0,k.Q5)(fe).then((function(e){he(e)}))}),[]),(0,r.jsxs)("div",{className:(0,c.AK)("sticky left-0 top-0 z-50 flex md:grid grid-cols-4 md:grid-cols-5 items-center justify-between gap-3 p-2 md:py-3 md:px-6 bg-white border-b md:border-0 md:shadow md:transition-all duration-750 transform-gpu",(D||R)&&"md:flex",U&&"pointer-events-none",ne&&"opacity-0 -translate-y-full pointer-events-none"),children:[(0,r.jsx)(v.Z,{children:(0,r.jsx)(f.Z,{onEnable:function(){we(),(0,k.Q5)(fe).then((function(e){he(e)}))}})}),ge&&(0,r.jsx)(N.Z,{showModal:be,showModalHandler:function(){return ve(!be)},scheduleData:ge,setScheduleData:he,onComplete:function(){we(),(0,k.Q5)(fe).then((function(e){he(e)}))}}),(0,r.jsxs)("div",{className:"col-span-2 flex items-center gap-1.5 md:hidden",children:[(0,r.jsx)(E,{postMode:R,selectedPage:_}),D?!R&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{}),(0,r.jsx)(K,{disabled:C||i||h,onClick:function(){return L()}})]}):null]}),(0,r.jsxs)("div",{className:"col-span-2 hidden md:flex items-center gap-1.5",children:[(0,r.jsx)(S,{blogMode:D,postMode:R,disabled:i||C,onExit:X}),(0,r.jsxs)(b.u,{as:"div",className:"flex items-center gap-1.5",show:!(null===ie||void 0===ie?void 0:ie.active),enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:[(0,r.jsx)(T,{}),D&&("assistant"!==(null===H||void 0===H?void 0:H.status)?(0,r.jsxs)("button",{className:(0,c.AK)("light icon transparent gap-2 !py-1.5 !ring-0 !ring-transparent",(W&&"blog"===(null===V||void 0===V||null===(n=V.WebsiteBlock)||void 0===n?void 0:n.type)||J)&&"!bg-gray-100"),disabled:i||h||x,onClick:function(){R?window.settingsPost():window.editBlock("blog")},children:[(0,r.jsx)("div",{className:"p-1 rounded-md bg-gray-100",children:(0,r.jsx)(u.Z,{icon:"Cog8ToothIcon",className:"w-4 h-4","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"block md:hidden lg:block text-body-xs md:text-label pr-1",children:"Settings"})]}):null),D&&!R&&(0,r.jsx)(K,{disabled:C||i||h,onClick:function(){return L()}}),D&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(O,{active:ue,disabled:C||i||h,onClick:function(){ue?ve(!0):de(!0)}})}),!D&&!R&&(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(m.Z,{track:t,dataTour:"theme",buttonClassName:"icon gap-2 !py-1.5 !ring-0 !ring-transparent",disabled:i||h,disableTemplates:!!(null===_||void 0===_?void 0:_.slug)||C,onSelect:function(e,n,a){switch(n){case"tab":z(e,"style",a);break;case"widget":z(e,"widget");break;case"template":t("website:change-template"),ee(!ne);break;case"blocks":z(e,"blocks");break;case"regenerate":t("website:regenerate"),te(!0);break;case"regenerate-text":t("website:regenerate-text"),ae(!0);break;case"keywords":t("website:keywords"),le(!0)}}}),(0,r.jsx)(g.Z,{buttonClassName:"icon gap-2 !py-1.5 !ring-0 !ring-transparent",pages:B,selectedPage:_,disabled:C||i||h,onAdd:G,onSelect:se,dataTour:"pages"}),(0,r.jsxs)("button",{className:"light icon transparent gap-2 !py-1.5 !ring-0 !ring-transparent",disabled:i,onClick:function(){q(),t("website:help")},children:[(0,r.jsx)("div",{className:"p-1 rounded-md bg-gray-100",children:(0,r.jsx)(u.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-4 h-4","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"block md:hidden lg:block text-body-xs md:text-label pr-1",children:"Help"})]})]})]})]}),(0,r.jsxs)("div",{className:"col-span-1 hidden md:flex items-center md:justify-center gap-3",children:[R&&(0,r.jsx)(A,{selectedPost:H,loading:x}),(0,r.jsx)(Z,{selectedPage:_,postMode:R,previewMode:ie,setPreviewMode:oe})]}),(0,r.jsx)("div",{className:"col-span-2 flex items-center justify-end gap-3",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{postMode:R,disabled:i||x,onDiscard:function(){Y(),D||R||t("website:discard")}}),(0,r.jsx)(M,{postMode:R,loading:i,disabled:!C||p||i||h||x,onSave:function(){$(),D||R||t("website:save")}})]}):(0,r.jsx)(r.Fragment,{children:(null===H||void 0===H?void 0:H._id)&&R?(0,r.jsx)(I,{disabled:i,loading:i,selectedPost:H}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{track:t,previewMode:ie,setPreviewMode:oe,disabled:i||(null===ie||void 0===ie?void 0:ie.loading)}),(0,r.jsx)(T,{className:"hidden lg:flex"}),"public"===(null===s||void 0===s?void 0:s.status)?(0,r.jsxs)("button",{"data-tour":"preview",className:"flex-shrink-0 primary sm gap-2",disabled:i||h,onClick:function(){return Q()},children:[(0,r.jsx)(u.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"hidden md:block",children:"View website"})]}):(0,r.jsxs)("button",{"data-tour":"preview",className:"flex-shrink-0 primary sm gap-2",disabled:i||h,onClick:function(){return Q(!0,!1)},children:[(0,r.jsx)(u.Z,{icon:"RocketLaunchIcon",className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{children:"Publish"})]})]})})})]})}var Z=function(e){var n=e.previewMode,t=e.setPreviewMode,a=e.selectedPage,o=e.postMode,l=(0,d.useState)(!0),c=l[0],u=l[1],p=(0,d.useState)(!1),m=p[0],g=p[1];return(0,d.useEffect)((function(){(null===n||void 0===n?void 0:n.active)?u(!1):(g(!1),setTimeout((function(){return u(!0)}),400))}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.u,{as:"div",show:c,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-y-3",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-3",afterLeave:function(){return g(!0)},children:(0,r.jsx)(E,{selectedPage:a,postMode:o})}),(0,r.jsx)(b.u,{as:"div",show:m,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-y-3",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-3",children:(0,r.jsx)(x,{device:null===n||void 0===n?void 0:n.device,onChange:function(e){return t((0,i.Z)((0,s.Z)({},n),{device:e}))}})})]})},S=function(e){var n=e.className,t=e.disabled,a=e.blogMode,s=e.postMode,i=e.onExit;return(0,r.jsxs)("button",{className:(0,c.AK)("flex-shrink-0 light icon transparent gap-2",n),disabled:t,onClick:function(){s?window.dispatchEvent(new CustomEvent("website-builder-post-exit")):i()},children:[(0,r.jsx)(u.Z,{icon:a||s?"ChevronLeftIcon":"HomeSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),a&&(0,r.jsx)("span",{className:"text-label hidden xl:block",children:s?"Blog":"Website"})]})},P=function(e){var n=e.postMode,t=e.disabled,a=e.onDiscard;return(0,r.jsx)("button",{className:"flex-shrink-0 light sm",disabled:t,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-discard")):a()},children:"Discard"})},M=function(e){var n=e.postMode,t=e.disabled,a=e.loading,s=e.onSave;return(0,r.jsx)(p.Z,{className:"flex-shrink-0 primary sm",disabled:t,loading:a,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-save")):s()},children:"Save"})},I=function(e){var n=e.selectedPost,t=e.disabled,a=e.loading;return(0,r.jsxs)(p.Z,{className:(0,c.AK)("flex-shrink-0 gap-2 sm",(null===n||void 0===n?void 0:n.published)?"light":"secondary"),disabled:t,loading:a,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-toggle-published"))},children:[(0,r.jsx)(u.Z,{icon:"DocumentTextSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,r.jsxs)("span",{children:[(null===n||void 0===n?void 0:n.published)?"Unpublish":"Publish"," post"]})]})},A=function(e){var n=e.selectedPost,t=e.loading;return(null===n||void 0===n?void 0:n._id)||"assistant"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.fromScratch)?null:(0,r.jsxs)(p.Z,{className:"flex-shrink-0 light sm gap-2",loading:t,force:t,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))},children:[(0,r.jsx)(u.Z,{icon:"BoltIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,r.jsx)("span",{children:"Regenerate"})]})},T=function(e){var n=e.className;return(0,r.jsx)("div",{className:(0,c.AK)("flex-shrink-0 mx-0 w-px h-6 bg-gray-200",n)})},E=function(e){var n=e.selectedPage,t=e.postMode;return(0,r.jsxs)("div",{className:"flex items-center gap-2 pr-2 md:pr-0",children:[(0,r.jsx)("div",{className:"md:hidden p-1 rounded-md bg-gray-100",children:(0,r.jsx)(u.Z,{icon:"WindowSolidIcon",className:"w-4 h-4"})}),(0,r.jsx)("div",{className:"max-w-30 xl:max-w-60 whitespace-nowrap overflow-hidden overflow-ellipsis",children:t?"Post":(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.label)||"Page"})]})},K=function(e){var n=e.disabled,t=e.onClick;return(0,r.jsxs)("button",{className:"flex-shrink-0 secondary icon transparent gap-2 !py-1.5 !ring-0 !ring-transparent",disabled:n,onClick:t,children:[(0,r.jsx)("div",{className:"p-1 rounded-md bg-indigo-50",children:(0,r.jsx)(u.Z,{icon:"PlusSolidIcon",className:"w-4 h-4","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"text-label text-gray-900 pr-1",children:"Add post"})]})},O=function(e){var n=e.active,t=e.disabled,a=e.onClick;return(0,r.jsx)(h.Z,{title:n?"Configure Content Strategist":"",position:"bottom",children:(0,r.jsxs)("button",{className:"flex-shrink-0 secondary icon transparent gap-2 !py-1.5 !ring-0 !ring-transparent",disabled:t,onClick:a,children:[(0,r.jsx)("div",{className:(0,c.AK)("p-1 rounded-md",n?"bg-indigo-600 text-white":"bg-indigo-50"),children:(0,r.jsx)(u.Z,{icon:"StarsIcon",className:"w-4 h-4","aria-hidden":"true"})}),(0,r.jsx)("span",{className:"text-label text-gray-900 pr-1",children:"Automate"})]})})},F=function(e){var n=e.track,t=e.previewMode,a=e.setPreviewMode,o=e.disabled,l=(0,d.useState)(!1),p=l[0],m=l[1];return(0,d.useEffect)((function(){var e=function(){return m(!1)};return window.addEventListener("website-builder-preview-loaded",e),function(){window.removeEventListener("website-builder-preview-loaded",e)}}),[]),(0,r.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Preview"}),(0,r.jsx)("div",{className:(0,c.AK)("flex p-0.5 rounded-sm shadow-inner transition-all duration-300",(null===t||void 0===t?void 0:t.active)?"pl-7 bg-green-200":"pr-7 bg-gray-100",p||o?"pointer-events-none cursor-not-allowed":"cursor-pointer"),onClick:function(){p||o||(a((0,i.Z)((0,s.Z)({},t),{active:!(null===t||void 0===t?void 0:t.active)})),m(!0),setTimeout((function(){return m(!1)}),1e4),(null===t||void 0===t?void 0:t.active)||n("website:preview-toggle"))},children:(0,r.jsx)("div",{className:(0,c.AK)("p-2 rounded-sm shadow-sm",p||o?"bg-gray-50 text-gray-500":"bg-white text-gray-700"),children:(0,r.jsx)(u.Z,{icon:(null===t||void 0===t?void 0:t.active)?"EyeIcon":"EyeSlashIcon",from:"heroicons",className:"w-3 h-3"})})})]})}}}]);